<div class="tn-board-body ready">
<div class="loading-progress ng-hide">&nbsp;</div>
<div class="row tn-article-body display-system-page-margins">
<div class="tn-cube-slot tn-view-cubes tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal tn-state-active tn-cube-flipper-box"><!-- ngRepeat: chd in cellGroupItems track by $index -->
<div class="tn-surface tn-cube tn-show-cube ng-scope tn-from-house-reader_paper-cp tn-comp-anim-pin tn-comp-inst tn-cube-inst tn-comp tn-in-cell-state-active on-screen">
<div class="dock booklet tn-ground-slot tn-view-grounds tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal tn-state-active tn-vertical-flipper-box"><!-- ngRepeat: chd in cellGroupItems track by $index -->
<div class="tn-surface tn-ground tn-show-ground ng-scope tn-from-house-reader_paper-cp tn-comp-anim-pin tn-comp-inst tn-ground-inst tn-comp tn-in-cell-state-active tn-comp-mode-board on-screen">
<div class="tn-layer-slot tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal tn-state-active"><!-- ngRepeat: chd in cellGroupItems track by $index -->
<div class="tn-layer ng-scope tn-from-house-reader_paper-cp tn-comp-anim-pin tn-comp-inst tn-layer-inst tn-comp tn-in-cell-state-active">&nbsp;</div>
<!-- end ngRepeat: chd in cellGroupItems track by $index --></div>
</div>
<!-- end ngRepeat: chd in cellGroupItems track by $index --></div>
<div class="dock booklet tn-page-slot tn-view-pages tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal tn-state-active tn-vertical-flipper-box"><!-- ngRepeat: chd in cellGroupItems track by $index -->
<div class="tn-surface tn-page tn-show-page ng-scope tn-from-house-reader_paper-cp tn-comp-anim-pin tn-comp-inst tn-page-inst tn-comp tn-in-cell-state-active tn-comp-mode-flow on-screen">
<div class="tn-layer-slot tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal tn-state-active"><!-- ngRepeat: chd in cellGroupItems track by $index -->
<div class="tn-layer ng-scope tn-from-house-reader_paper-cp tn-comp-anim-pin tn-comp-inst tn-layer-inst tn-comp tn-in-cell-state-active">
<div class="tn-comp-slot tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope">
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: auto; vertical-align: top; align-self: flex-start; flex: 0 0 auto; min-width: 10%; max-width: 100%; height: auto; border-bottom: 1px solid #5f91b7; border-bottom-right-radius: 0px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; min-width: 10%; max-width: 100%; flex: 0 0 auto; height: auto; margin: 0px; padding: 0px 7px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify; font-size: 118.75%; color: #5f91b7;" title="">
<p><strong>引言</strong></p>
</div>
</div>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div style="display: inline-block; text-align: left;">
<p>&nbsp;</p>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="border: 1px solid #f96e57; border-radius: 0px 0px 0.8em 0.8em; padding: 10px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>因为学习的原因，在使用电子书籍的时候较多，所以有时候不得不在百度或者学校的图书馆搜一下书籍。当时找的是一本&ldquo;数值分析&rdquo;书籍，在百度没有找到，图书馆给我推荐到了一个文库，说可以看电子版的，但是不能下载。每次进入网站看很麻烦呀，而且提供的图片清晰度也不高，所以需要看看可不可以下载。</p>
</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: auto; vertical-align: top; align-self: flex-start; flex: 0 0 auto; min-width: 10%; max-width: 100%; height: auto; border-bottom: 1px solid #5f91b7; border-bottom-right-radius: 0px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; min-width: 10%; max-width: 100%; flex: 0 0 auto; height: auto; margin: 0px; padding: 0px 7px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify; font-size: 118.75%; color: #5f91b7;" title="">
<p><strong>部分打印</strong></p>
</div>
</div>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div style="display: inline-block; text-align: left;">
<p>&nbsp;</p>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="border: 1px solid #f96e57; border-radius: 0px 0px 0.8em 0.8em; padding: 10px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>通常的思路是看看网页pdf可不可以直接打印，如果可以直接打印的话,那么我们也就不需要多加步骤了。</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094056_1.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: center;" title="">
<p>图 1</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>幸运的是，图1这里直接有打印的图标，但会发现，图2除了&ldquo;当前页面&rdquo;可选中之外，其他的按钮均为不可选中。因为这些属性是直接可以通过界面即网页源码定义的，所以通过检查元素图3或者F12开发者选项功能图4进行定位，则可以修改标签选中状态。</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094105_2.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: center;" title="">
<p>图 2</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094110_3.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p style="text-align: center;">图 3</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094116_4.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: center;" title="">
<p>图 4</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>删除相关元素的disabled="disabled" 属性，则可以进行选中相关标签。但这里有一个问题是每次操作打印后，需要再进行上述操作，这是因为在网页再刷新的时候，js文件会再次进行属性设置，我们没有进行js文件修改，所以我们的操作会被覆盖。</p>
<p>当选中&ldquo;所有页面&rdquo;时，如果电子书籍页码大于100页时，会提示我们超过了100页，会终止打印，下面两个&ldquo;页面&rdquo;设置如果超过100页也会这样提示，这个问题我们等会再进行处理。这里主要说的是多次部分小于100页的打印。</p>
<p>所以每次按照上述操作，选中&ldquo;页面&rdquo;进行小于100页的多批次打印，打印的时间不确定，依照文件大小或者网络速度有关，因为在打印过程中，通过网络监控可以发现，打印的原理是进行图片链接访问，然后以图片的形式打印成pdf。</p>
<p>这种方法会出现以下问题：</p>
<p>1.图片的质量不高，默认的图片质量为100。</p>
<p>2.打印的pdf文件为图片pdf，并不是矢量pdf。</p>
<p>&nbsp;</p>
</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: auto; vertical-align: top; align-self: flex-start; flex: 0 0 auto; min-width: 10%; max-width: 100%; height: auto; border-bottom: 1px solid #5f91b7; border-bottom-right-radius: 0px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; min-width: 10%; max-width: 100%; flex: 0 0 auto; height: auto; margin: 0px; padding: 0px 7px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify; font-size: 118.75%; color: #5f91b7;" title="">
<p><strong>全文打印</strong></p>
</div>
</div>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div style="display: inline-block; text-align: left;">
<p>&nbsp;</p>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="border: 1px solid #f96e57; border-radius: 0px 0px 0.8em 0.8em; padding: 10px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>当我们选中&ldquo;所有页面&rdquo;打印的时候，会提示&ldquo;当前设置的页面已超出范围&rdquo;。所以我们就需要找到当我们点击&ldquo;下一步&rdquo;按钮时，按钮传递了什么值，为什么会提示（如图5）？</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094137_5.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p style="text-align: center;">图 5</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>这里可以发现选中&ldquo;所有页面&rdquo;时，传递的value值为all。但是我们对按钮监听事件分析，并没有直接得出跟判断100页有关系的函数。所以转变一个思路，开始没有显示提示，但是超过100页会提示，所以这个显示与100页有关系。选中提示，得到提示的id为&ldquo;lablePrintInfo&rdquo;。所以进行搜索得到图6：</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: 90%; vertical-align: top; align-self: flex-start; flex: 0 0 auto; background-color: #ffffff; padding: 20px; height: auto; box-shadow: #939393 0px 0px 5px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-image tn-state-active ng-scope" style="max-width: 100%; vertical-align: middle; display: inline-block; line-height: 0;" title=""><img src="https://images.cnblogs.com/cnblogs_com/blogs/756560/galleries/2176754/o_220617094144_6.png" class="tn-image-presenter raw-image" style="vertical-align: middle; max-width: 100%;" /></div>
</div>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p style="text-align: center;">图 6</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>在18752行：</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<pre class="code-snippet"><code><span class="code-snippet_outer">B &gt; <span class="code-snippet__number">100</span>)</span></code><code></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">return</span> <span class="code-snippet__keyword">void</span> $(<span class="code-snippet__string">"#lablePrintInfo"</span>).html(i18n.t(<span class="code-snippet__string">"Print.OutOfRangeMessage"</span>));</span></code><code></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">var</span> s = <span class="code-snippet__string">""</span>;</span></code></pre>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>这里可以发现这里有一个判断，如果大于了100，则会提示，所以我们只需要修改这个100页为一个比较大的值，就可以实现全文打印了。（修改js文件方法自行百度）</p>
<p>这里存在一个问题：打印的时间特别长且打印出来的格式容易错乱。</p>
<p>清晰度设置</p>
<p>打印的过程中会发起&ldquo;https://网站地址/asserts/书籍id/image/页码/分辨率?accessToken=accessToken&amp;formMode=true&ldquo;通过对&lsquo;formMode&rsquo;搜索：</p>
<p>可以找到：</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<pre class="code-snippet"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">var</span> e = a.getBaseUrl() + <span class="code-snippet__string">"asserts/"</span> + a.getFileID() + <span class="code-snippet__string">"/image/"</span> + b + <span class="code-snippet__string">"/100?formMode=false&amp;accessToken=accessToken"</span></span></code><code></code><code><span class="code-snippet_outer">, f = <span class="code-snippet__keyword">new</span> XMLHttpRequest;</span></code></pre>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>所以将100进行设置，可以提高图片的分辨率。此方法对于超级大型的文件并不适用，这里也不做过多讲解。</p>
</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; width: auto; vertical-align: top; align-self: flex-start; flex: 0 0 auto; min-width: 10%; max-width: 100%; height: auto; border-bottom: 1px solid #5f91b7; border-bottom-right-radius: 0px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; min-width: 10%; max-width: 100%; flex: 0 0 auto; height: auto; margin: 0px; padding: 0px 7px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify; font-size: 118.75%; color: #5f91b7;" title="">
<p><strong>全文下载</strong></p>
</div>
</div>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="display: inline-block; vertical-align: top; width: auto; align-self: flex-start; flex: 100 100 0%; height: auto;">&nbsp;</div>
</div>
</div>
</div>
<div class="tn-comp-top-level tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div style="display: inline-block; text-align: left;">
<p>&nbsp;</p>
</div>
<div class="tn-cell tn-cell-group tn-child-position-static tn-state-active ng-scope" style="border: 1px solid #f96e57; border-radius: 0px 0px 0.8em 0.8em; padding: 10px;">
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>既然我们可以直接浏览pdf，那么说明在访问这个网站的时候，系统需要传入或者设置pdf文件，pdf文件可以是本地也可以是网络文件。所以我们对网站再次刷新分析整个加载过程。</p>
<p>在进程中发现存在一个post，名叫add。查看post表单：</p>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope" style="position: static;">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<pre class="code-snippet"><code><span class="code-snippet_outer">params:{<span class="code-snippet__string">"params"</span>:{<span class="code-snippet__string">"userName"</span>:<span class="code-snippet__string">"8"</span>,<span class="code-snippet__string">"userId"</span>:<span class="code-snippet__string">"*"</span>,<span class="code-snippet__string">"file"</span>:<span class="code-snippet__string">"*.pdf"</span>}}</span></code><code></code><code><span class="code-snippet_outer">type: *</span></code></pre>
</div>
</div>
<div class="tn-from-house-paper-cp tn-comp-anim-pin tn-comp ng-scope">
<div class="tn-cell tn-cell-text horizontal-tb tn-state-active ng-scope" style="text-align: justify;" title="">
<p>所以我们发现这实际上是将网络pdf文件加载出来的，但是我们直接访问pdf地址是没有权限的。而上面的post得到了一个result。再综合后面的一系列链接，发现result就是一个文件的id。但是我们要想办法使用这个id。</p>
<p>在后面的链接中发现有一个info的get请求，它得到了assertUrl，fileid，fname，userName。这里我的第一个想法就是对得到的数据进行get，或许这样就可以得到pdf文件了。哎，但是无果，我怎么进行get拼接，都访问不成功。这里实在想不通了，我就直接不拼接了，将assertUrl的根网址访问了一下。</p>
<p>居然，发现可以直接访问，可以是访问到了一个在线pdf阅读器，其中的界面与刚才的差不多，但是有许多功能可以直接使用。甚至有直接下载pdf的功能，但是点击&ldquo;下载pdf&rdquo;发现会下载失败。</p>
<p>于是又看见有&ldquo;开启离线阅读模式&rdquo;功能，点击后会下载pdf文件；对下载文件地址分析：http://******/api/file/*******/getDocumentbuffer</p>
<p>So 可以下载了</p>
<p>&nbsp;</p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- end ngRepeat: chd in cellGroupItems track by $index --></div>
</div>
<!-- end ngRepeat: chd in cellGroupItems track by $index --></div>
</div>
<!-- end ngRepeat: chd in cellGroupItems track by $index --></div>
<div class="tn-popup-slot tn-view-popups tn-cell-inst ng-scope tn-cell tn-cell-group tn-child-position-absolute tn-group-usage-normal group-empty tn-state-active"><!-- ngRepeat: chd in cellGroupItems track by $index --></div>
<div class="tn-show-page tn-page tn-comp-mode-flow ng-binding ng-scope">&nbsp;</div>
</div>
</div>
<div id="detect-holmes-debugger-1541053963293">&nbsp;</div>
<div id="detect-holmes-debugger-1541053963293">&nbsp;</div>
<div id="detect-holmes-debugger-1541053963293">&nbsp;</div>
<div id="detect-holmes-debugger-1541053963293">&nbsp;</div>
